<div align="center">

# Newsloom ğŸ“°

### å¤šä¿¡æ¯æºæ™ºèƒ½æ—¥æŠ¥ç³»ç»Ÿ

[![Python](https://img.shields.io/badge/Python-3.10+-blue.svg)](https://www.python.org/downloads/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
[![GitHub stars](https://img.shields.io/github/stars/zhangjunmengyang/Newsloom?style=social)](https://github.com/zhangjunmengyang/Newsloom/stargazers)

[English](README_EN.md) | ç®€ä½“ä¸­æ–‡

</div>

---

## ğŸ“– ç®€ä»‹

**Newsloom** æ˜¯ä¸€ä¸ªç”Ÿäº§çº§ã€AI é©±åŠ¨çš„æ™ºèƒ½æ–°é—»èšåˆç³»ç»Ÿï¼Œèƒ½å¤Ÿä»å¤šä¸ªä¿¡æ¯æºï¼ˆRSSã€arXivã€GitHubã€Twitterã€HackerNews ç­‰ï¼‰è‡ªåŠ¨æŠ“å–ã€è¿‡æ»¤ã€åˆ†æå†…å®¹ï¼Œå¹¶ç”Ÿæˆç²¾ç¾çš„æ¯æ—¥æŠ¥å‘Šã€‚

### âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ”Œ **å®Œå…¨å¯æ’æ‹”** - æ¨¡å—åŒ–æ¶æ„ï¼Œè½»æ¾æ·»åŠ æ–°æ•°æ®æºå’Œè¿‡æ»¤ç­–ç•¥
- ğŸš€ **é«˜æ€§èƒ½å¹¶è¡Œ** - ThreadPool å¹¶å‘æŠ“å–ï¼ŒHackerNews æ•…äº‹å¹¶å‘è·å–
- ğŸ§  **AI æ™ºèƒ½åˆ†æ** - Claude åŒpasså¤„ç†ï¼Œæå–é«˜è´¨é‡å†…å®¹
- ğŸ¨ **ç²¾ç¾æŠ¥å‘Š** - Markdownã€ä¸“ä¸šæš—è‰²ä¸»é¢˜ HTMLï¼ˆä¾§è¾¹å¯¼èˆª + section é¢œè‰²åŒºåˆ†ï¼‰
- ğŸ’¾ **æ™ºèƒ½çŠ¶æ€ç®¡ç†** - è‡ªåŠ¨æ¸…ç†æ—§è®°å½•ï¼Œè·¨è¿è¡Œå»é‡
- âš™ï¸ **çµæ´»é…ç½®** - YAML é©±åŠ¨ï¼Œæ”¯æŒç¯å¢ƒå˜é‡å’Œå¤šé…ç½®æ–‡ä»¶
- ğŸ“Š **å¯è§†åŒ–è¾“å‡º** - äº¤äº’å¼ HTML æŠ¥å‘Šï¼Œå“åº”å¼å¸ƒå±€ï¼Œæ”¯æŒä¸»é¢˜åˆ‡æ¢
- ğŸ”§ **æ˜“äºæ‰©å±•** - æ¸…æ™°çš„æ’ä»¶ç³»ç»Ÿï¼Œå‡ è¡Œä»£ç æ·»åŠ æ–°åŠŸèƒ½
- ğŸŒ **å¤šé¢‘é“æ”¯æŒ** - AIã€Techã€Cryptoã€Financeã€Papersã€GitHubã€Community

---

## ğŸ—ï¸ æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   DATA SOURCES (å¯æ’æ‹”)                      â”‚
â”‚  Twitter â”‚ RSS â”‚ arXiv â”‚ GitHub â”‚ HN â”‚ Reddit â”‚ è‡ªå®šä¹‰... â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LAYER 1: FETCH (å¹¶è¡Œå¤šæºæŠ“å–)                               â”‚
â”‚  - ThreadPoolExecutor å¹¶è¡Œ                                   â”‚
â”‚  - ç»Ÿä¸€ Item æ ¼å¼                                            â”‚
â”‚  - çŠ¶æ€å»é‡                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LAYER 2: FILTER (æ™ºèƒ½è¿‡æ»¤ - å¯æ‰©å±•)                         â”‚
â”‚  - å…³é”®è¯è¯„åˆ†                                                â”‚
â”‚  - æŠ•ç¥¨åŠ æƒ                                                  â”‚
â”‚  - è‡ªå®šä¹‰ç­–ç•¥                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LAYER 3: ANALYZE (AI åˆ†æ - å³å°†æ¨å‡º)                       â”‚
â”‚  - Claude åŒpasså¤„ç†                                         â”‚
â”‚  - ç»“æ„åŒ–æå–                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LAYER 4: GENERATE (å¤šæ ¼å¼æŠ¥å‘Š)                              â”‚
â”‚  - Markdown                                                  â”‚
â”‚  - HTML (äº®/æš—ä¸»é¢˜)                                          â”‚
â”‚  - PNG å¡ç‰‡ (å¯é€‰)                                           â”‚
â”‚  - RSS Feed                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/zhangjunmengyang/Newsloom.git
cd Newsloom

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# (å¯é€‰) å®‰è£… Playwright ç”¨äºå¡ç‰‡æ¸²æŸ“
playwright install chromium
```

### åŸºç¡€ä½¿ç”¨

```bash
# è¿è¡Œå®Œæ•´æµç¨‹ï¼ˆ4å±‚ pipeline: fetch â†’ filter â†’ analyze â†’ generateï¼‰
python3 run.py

# åªè¿è¡Œç‰¹å®šå±‚
python3 run.py --layers fetch,filter,generate

# æŒ‡å®šæ—¥æœŸ
python3 run.py --date 2026-02-12

# ä½¿ç”¨è‡ªå®šä¹‰é…ç½®
python3 run.py --config config/my_config.yaml
```

**ç¯å¢ƒå˜é‡é…ç½®** (åœ¨ `.env` æˆ– `/etc/environment`):

```bash
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_BASE_URL=https://api.anthropic.com  # å¯é€‰ï¼šä½¿ç”¨ä»£ç†
```

### é…ç½®æ•°æ®æº

ç¼–è¾‘ `config/sources.yaml`:

```yaml
sources:
  rss_tech:
    enabled: true           # å¯ç”¨æ­¤æ•°æ®æº
    channel: "tech"         # åˆ†ç±»é¢‘é“
    type: "rss"            # æ•°æ®æºç±»å‹
    feeds:
      - url: "https://techcrunch.com/feed/"
        name: "TechCrunch"

  rss_crypto:
    enabled: true
    channel: "crypto"
    type: "rss"
    feeds:
      - url: "https://www.coindesk.com/arc/outboundfeeds/rss/"
        name: "CoinDesk"

  arxiv:
    enabled: true
    channel: "papers"
    type: "arxiv"
    categories: "cat:cs.AI+OR+cat:cs.CL+OR+cat:cs.LG"

  github:
    enabled: true
    channel: "github"
    type: "github"
    language: "python"
    period: "daily"

  hackernews:
    enabled: true
    channel: "community"
    type: "hackernews"
    min_score: 100
    count: 20
```

### é…ç½®è¿‡æ»¤è§„åˆ™

ç¼–è¾‘ `config/filters.yaml`:

```yaml
channels:
  ai:
    strategy: keyword_score  # è¿‡æ»¤ç­–ç•¥
    min_score: 4            # æœ€ä½åˆ†æ•°
    keywords:
      llm: 5                # å…³é”®è¯æƒé‡
      gpt: 4
      claude: 4
      transformer: 5
    blacklist:
      - spam                # é»‘åå•

  crypto:
    strategy: keyword_score
    min_score: 4
    keywords:
      bitcoin: 5
      ethereum: 5
      blockchain: 5
      defi: 5

  finance:
    strategy: keyword_score
    min_score: 3
    keywords:
      fintech: 5
      payment: 4
      banking: 4
```

### æŸ¥çœ‹æŠ¥å‘Š

```bash
# æŸ¥çœ‹æœ€æ–°æŠ¥å‘Š
cat reports/latest.md

# åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ HTML
open reports/latest.html
```

---

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
newsloom/
â”œâ”€â”€ config/                     # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ config.yaml            # ä¸»é…ç½®
â”‚   â”œâ”€â”€ sources.yaml           # æ•°æ®æºé…ç½®
â”‚   â””â”€â”€ filters.yaml           # è¿‡æ»¤ç­–ç•¥é…ç½®
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ sources/               # æ•°æ®æºæ’ä»¶
â”‚   â”‚   â”œâ”€â”€ base.py           # æŠ½è±¡åŸºç±»
â”‚   â”‚   â”œâ”€â”€ rss.py            # RSS å®ç°
â”‚   â”‚   â””â”€â”€ registry.py       # æ³¨å†Œä¸­å¿ƒ
â”‚   â”œâ”€â”€ processors/            # å¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ fetcher.py        # å¹¶è¡ŒæŠ“å–
â”‚   â”‚   â”œâ”€â”€ filter.py         # æ™ºèƒ½è¿‡æ»¤
â”‚   â”‚   â”œâ”€â”€ generator.py      # æŠ¥å‘Šç”Ÿæˆ
â”‚   â”‚   â””â”€â”€ filters/          # è¿‡æ»¤ç­–ç•¥
â”‚   â”‚       â”œâ”€â”€ base.py       # ç­–ç•¥åŸºç±»
â”‚   â”‚       â”œâ”€â”€ keyword_filter.py
â”‚   â”‚       â”œâ”€â”€ upvote_filter.py
â”‚   â”‚       â””â”€â”€ passthrough_filter.py
â”‚   â”œâ”€â”€ utils/                 # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ pipeline.py            # ä¸»æµç¨‹
â”œâ”€â”€ data/                      # æ•°æ®å­˜å‚¨
â”‚   â”œâ”€â”€ raw/                  # Layer 1 è¾“å‡º
â”‚   â”œâ”€â”€ filtered/             # Layer 2 è¾“å‡º
â”‚   â””â”€â”€ state/                # çŠ¶æ€æ–‡ä»¶
â”œâ”€â”€ reports/                   # ç”Ÿæˆçš„æŠ¥å‘Š
â”œâ”€â”€ docs/                      # æ–‡æ¡£
â”‚   â””â”€â”€ EXTENDING.md          # æ‰©å±•æŒ‡å—
â””â”€â”€ run.py                     # å…¥å£è„šæœ¬
```

---

## ğŸ”§ æ‰©å±•ç³»ç»Ÿ

### æ·»åŠ æ–°æ•°æ®æº

1. **åˆ›å»ºæ•°æ®æºç±»**ï¼ˆ`src/sources/my_source.py`ï¼‰:

```python
from .base import DataSource, Item

class MySource(DataSource):
    def get_source_name(self) -> str:
        return "my_source"

    def fetch(self, hours_ago=None) -> List[Item]:
        # å®ç°æŠ“å–é€»è¾‘
        items = []
        # ...
        return items
```

2. **æ³¨å†Œ**ï¼ˆ`src/sources/registry.py`ï¼‰:

```python
SOURCE_MAP = {
    'my_source': MySource,
    # ...
}
```

3. **é…ç½®**ï¼ˆ`config/sources.yaml`ï¼‰:

```yaml
my_source:
  enabled: true
  channel: "custom"
  type: "my_source"
```

### æ·»åŠ è‡ªå®šä¹‰è¿‡æ»¤ç­–ç•¥

1. **åˆ›å»ºè¿‡æ»¤å™¨**ï¼ˆ`src/processors/filters/my_filter.py`ï¼‰:

```python
from .base import FilterStrategy

class MyFilter(FilterStrategy):
    def calculate_score(self, item) -> float:
        # è‡ªå®šä¹‰è¯„åˆ†é€»è¾‘
        return score
```

2. **æ³¨å†Œ**ï¼ˆ`src/processors/filters/__init__.py`ï¼‰:

```python
FILTER_REGISTRY = {
    'my_filter': MyFilter,
    # ...
}
```

3. **ä½¿ç”¨**ï¼ˆ`config/filters.yaml`ï¼‰:

```yaml
channels:
  my_channel:
    strategy: my_filter
    min_score: 5
```

æ›´å¤šè¯¦æƒ…è¯·æŸ¥çœ‹ [æ‰©å±•æŒ‡å—](docs/EXTENDING.md)ã€‚

---

## ğŸ“Š ç¤ºä¾‹è¾“å‡º

### Markdown æŠ¥å‘Š

```markdown
# Daily Report - 2024-02-12

## AI

### 1. [State-sponsored hackers exploit AI for advanced cyberattacks](...)
**Source:** rss_ai | **Author:** John Doe | **Score:** 139.0

> State-sponsored hackers are exploiting AI to accelerate cyberattacks...
```

### HTML æŠ¥å‘Š

<img src="docs/images/html-report-light.png" width="400" alt="HTML Light Theme">
<img src="docs/images/html-report-dark.png" width="400" alt="HTML Dark Theme">

---

## âš™ï¸ é…ç½®é€‰é¡¹

### ä¸»é…ç½® (`config/config.yaml`)

```yaml
project:
  name: "Newsloom"
  timezone: "Asia/Shanghai"

pipeline:
  enabled_layers: ["fetch", "filter", "analyze", "generate"]

  fetch:
    parallel_workers: 10    # å¹¶è¡Œçº¿ç¨‹æ•°
    hours_ago: 24          # æŠ“å–24å°æ—¶å†…çš„

  filter:
    max_age_hours: 48      # åªä¿ç•™48å°æ—¶å†…çš„
    min_score: 3           # é»˜è®¤æœ€ä½åˆ†

ai:
  claude:
    api_key: ${ANTHROPIC_API_KEY}
    base_url: ${ANTHROPIC_BASE_URL}  # å¯é€‰ï¼šAPIä»£ç†åœ°å€
    model: "claude-sonnet-4-20250514"
    max_tokens: 4096
    temperature: 0.2
```

### ç¯å¢ƒå˜é‡

åœ¨é…ç½®ä¸­ä½¿ç”¨ç¯å¢ƒå˜é‡:

```yaml
api_key: ${MY_API_KEY}              # å¿…éœ€
timeout: ${TIMEOUT:30}              # å¸¦é»˜è®¤å€¼
```

---

## ğŸ› ï¸ é«˜çº§ç”¨æ³•

### è‡ªå®šä¹‰ Pipeline

åˆ›å»ºè‡ªå®šä¹‰è„šæœ¬:

```python
from sources.registry import SourceRegistry
from processors.fetcher import ParallelFetcher
from processors.filter import SmartFilter

# åˆå§‹åŒ–
registry = SourceRegistry('config/sources.yaml')
sources = registry.get_enabled_sources()

# è‡ªå®šä¹‰æµç¨‹
fetcher = ParallelFetcher(sources, state_manager)
items = fetcher.fetch_all(hours_ago=6)  # åªè¦6å°æ—¶çš„

# è‡ªå®šä¹‰è¿‡æ»¤
filtered = [item for item in items if item.score > 10]

# è¾“å‡º
for item in filtered:
    print(f"{item.title}")
```

### å¤šé…ç½®æ–‡ä»¶

```bash
# ç”Ÿäº§ç¯å¢ƒ
python3 run.py --config config/production.yaml

# æµ‹è¯•ç¯å¢ƒ
python3 run.py --config config/testing.yaml
```

### å®šæ—¶è¿è¡Œ

ä½¿ç”¨ cron:

```bash
# æ¯å¤©å‡Œæ™¨ 2 ç‚¹è¿è¡Œ
0 2 * * * cd /path/to/Newsloom && python3 run.py
```

æˆ–ä½¿ç”¨ GitHub Actionsï¼ˆè§ [éƒ¨ç½²æŒ‡å—](docs/DEPLOYMENT.md)ï¼‰ã€‚

---

## ğŸ“ˆ è·¯çº¿å›¾

- [x] **Phase 1**: æ ¸å¿ƒæ¡†æ¶ + RSS æ•°æ®æº âœ…
- [x] **Phase 1.5**: å¯æ’æ‹”è¿‡æ»¤ç³»ç»Ÿ âœ…
- [x] **Phase 2**: æ›´å¤šæ•°æ®æº (arXiv, GitHub, HN) âœ…
- [x] **Phase 3**: Claude AI åŒpassåˆ†æ âœ…
- [x] **Phase 5**: GitHub Actions è‡ªåŠ¨åŒ– âœ…
- [x] **Phase 6**: æ·±åº¦ä¼˜åŒ–ï¼ˆCrypto/Finance é¢‘é“ã€ä¸“ä¸š HTML ä¸»é¢˜ã€å¹¶å‘ä¼˜åŒ–ã€å¥å£®æ€§ï¼‰âœ…
- [ ] **Phase 4**: PNG å¡ç‰‡æ¸²æŸ“ (å¯é€‰)

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·æŸ¥çœ‹ [è´¡çŒ®æŒ‡å—](CONTRIBUTING.md)ã€‚

### è´¡çŒ®æ–¹å¼

- ğŸ› æŠ¥å‘Š Bug
- ğŸ’¡ æå‡ºæ–°åŠŸèƒ½
- ğŸ“ æ”¹è¿›æ–‡æ¡£
- ğŸ”Œ è´¡çŒ®æ–°çš„æ•°æ®æºæˆ–è¿‡æ»¤å™¨
- â­ Star æœ¬é¡¹ç›®

### å¼€å‘è®¾ç½®

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/zhangjunmengyang/Newsloom.git
cd Newsloom

# å®‰è£…å¼€å‘ä¾èµ–
pip install -r requirements.txt
pip install pytest black

# è¿è¡Œæµ‹è¯•
pytest tests/

# ä»£ç æ ¼å¼åŒ–
black src/
```

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](LICENSE)ã€‚

---

## ğŸ™ è‡´è°¢

æœ¬é¡¹ç›®å—ä»¥ä¸‹é¡¹ç›®å¯å‘:

- [CloudFlare-AI-Insight-Daily](https://github.com/example/cloudflare-ai) - æ— æœåŠ¡å™¨æ¶æ„
- [morning-brief-pro](https://github.com/example/morning-brief) - RAG æµæ°´çº¿
- [twitter-watchdog](https://github.com/example/twitter-watchdog) - Claude æœ€ä½³å®è·µ

---

## ğŸ“ è”ç³»æ–¹å¼

- **Issues**: [GitHub Issues](https://github.com/zhangjunmengyang/Newsloom/issues)
- **Discussions**: [GitHub Discussions](https://github.com/zhangjunmengyang/Newsloom/discussions)

---

<div align="center">

**[â¬† å›åˆ°é¡¶éƒ¨](#newsloom-)**

Made with â¤ï¸ by Newsloom Contributors

</div>
