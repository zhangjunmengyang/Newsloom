<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Newsloom ¬∑ {{ date_str }}</title>
    <style>
        /* ============================================================
         * SPOTIFY GREEN ‚Äî Music Streaming Interface
         * ============================================================
         * Deep gradient background with colorful radial light orbs
         * Spotify Wrapped aesthetic ¬∑ Signature green ¬∑ Playlist metaphor
         * Rounded cards (16-20px) ¬∑ Wide spacing ¬∑ Audio player UI
         * Section-specific gradient backgrounds ¬∑ Pulse animations
         * Inspired by: Spotify, Spotify Wrapped, music player UIs
         * ============================================================ */

        /* --- Design Tokens (CSS Custom Properties) --- */
        :root {
            /* Spotify color system ‚Äî true to brand */
            --spotify-black:      #000000;
            --spotify-dark:       #121212;
            --spotify-gray:       #181818;
            --spotify-lighter:    #242424;
            --spotify-light:      #2A2A2A;
            --spotify-hover:      #333333;
            --spotify-border:     #3E3E3E;
            --spotify-surface:    #404040;

            /* Signature Spotify green */
            --spotify-green:      #1DB954;
            --spotify-green-lt:   #1ED760;
            --spotify-green-dk:   #1AA34A;
            --spotify-green-dim:  rgba(29, 185, 84, 0.15);
            --spotify-green-glow: rgba(29, 185, 84, 0.08);
            --spotify-green-bg:   rgba(29, 185, 84, 0.1);

            /* Wrapped gradient colors ‚Äî for background orbs */
            --orb-green:       rgba(29, 185, 84, 0.18);
            --orb-pink:        rgba(232, 67, 147, 0.12);
            --orb-purple:      rgba(155, 89, 182, 0.10);

            /* Text hierarchy */
            --text-white:         #FFFFFF;
            --text-light:         #B3B3B3;
            --text-muted:         #A7A7A7;
            --text-dim:           #6A6A6A;
            --text-dark:          #000000;

            /* Priority colors ‚Äî music engagement metaphor */
            --priority-must:      #FF6B6B;
            --priority-must-bg:   rgba(255, 107, 107, 0.12);
            --priority-must-glow: rgba(255, 107, 107, 0.25);
            --priority-rec:       #FFD93D;
            --priority-rec-bg:    rgba(255, 217, 61, 0.10);
            --priority-rec-glow:  rgba(255, 217, 61, 0.20);
            --priority-fyi:       #6BCF7F;
            --priority-fyi-bg:    rgba(107, 207, 127, 0.08);
            --priority-fyi-glow:  rgba(107, 207, 127, 0.15);

            /* Borders */
            --border-subtle:     rgba(255, 255, 255, 0.06);
            --border-light:      rgba(255, 255, 255, 0.1);
            --border-accent:     rgba(29, 185, 84, 0.3);

            /* Shadows & effects */
            --shadow-subtle:     0 1px 3px rgba(0, 0, 0, 0.3);
            --shadow-card:       0 2px 8px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.2);
            --shadow-elevated:   0 4px 16px rgba(0, 0, 0, 0.4), 0 2px 4px rgba(0, 0, 0, 0.3);
            --shadow-hover:      0 8px 24px rgba(0, 0, 0, 0.5);
            --shadow-green:      0 4px 20px var(--spotify-green-glow);
            --shadow-glow:       0 0 30px rgba(29, 185, 84, 0.12);

            /* Spacing (8pt grid ‚Äî wider for Spotify feel) */
            --sp-1: 4px;   --sp-2: 8px;   --sp-3: 12px;  --sp-4: 16px;
            --sp-5: 20px;  --sp-6: 24px;  --sp-8: 32px;  --sp-10: 40px;
            --sp-12: 48px; --sp-16: 64px; --sp-20: 80px;

            /* Typography ‚Äî Spotify uses Circular */
            --font-sans: "Circular", -apple-system, BlinkMacSystemFont, "Segoe UI", "PingFang SC", "Noto Sans SC", "Microsoft YaHei", sans-serif;
            --font-display: "Circular", -apple-system, BlinkMacSystemFont, "PingFang SC", sans-serif;
            --font-mono: "SF Mono", "Consolas", "Fira Code", monospace;

            /* Border radius ‚Äî Spotify's signature roundness, BIGGER */
            --radius-xs: 2px;
            --radius-sm: 6px;
            --radius: 10px;
            --radius-lg: 16px;
            --radius-xl: 20px;
            --radius-round: 100px;
        }

        /* --- Page Setup (PDF) --- */
        @page {
            size: A4;
            margin: 1.5cm 1.8cm;
            background: var(--spotify-dark);
            @bottom-center {
                content: "Newsloom Intelligence ¬∑ {{ date_str }} ¬∑ " counter(page);
                font-size: 7pt;
                color: var(--text-dim);
                font-family: var(--font-sans);
            }
        }

        /* --- Reset & Base --- */
        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-sans);
            background: var(--spotify-dark);
            color: var(--text-white);
            font-size: 14px;
            line-height: 1.65;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
            min-height: 100vh;
            position: relative;
        }

        /* ============================================================
         * BACKGROUND ORBS ‚Äî Spotify Wrapped style color spotlights
         * 3 radial gradients: green (top-left), pink (top-right),
         * purple (bottom-center) ‚Äî like stage spotlights
         * ============================================================ */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background:
                radial-gradient(ellipse 600px 500px at 15% 10%, var(--orb-green) 0%, transparent 70%),
                radial-gradient(ellipse 500px 450px at 85% 5%, var(--orb-pink) 0%, transparent 70%),
                radial-gradient(ellipse 550px 400px at 50% 85%, var(--orb-purple) 0%, transparent 70%);
            pointer-events: none;
            z-index: 0;
        }

        a {
            color: var(--text-white);
            text-decoration: none;
            transition: color 0.2s ease;
        }
        a:hover {
            color: var(--spotify-green-lt);
        }

        /* --- Container --- */
        .container {
            max-width: 960px;
            margin: 0 auto;
            padding: var(--sp-10) var(--sp-6);
            position: relative;
            z-index: 1;
        }

        /* ============================================================
         * HEADER: Spotify player hero style ‚Äî bigger, more spacious
         * ============================================================ */
        .header {
            background: linear-gradient(180deg, var(--spotify-lighter) 0%, var(--spotify-gray) 100%);
            border-radius: var(--radius-xl);
            padding: var(--sp-12) var(--sp-10);
            margin-bottom: var(--sp-12);
            box-shadow: var(--shadow-elevated);
            position: relative;
            overflow: hidden;
        }

        /* Green radial glow ‚Äî Spotify's signature light effect */
        .header::before {
            content: '';
            position: absolute;
            top: -60%;
            left: -30%;
            width: 160%;
            height: 200%;
            background: radial-gradient(ellipse, rgba(29, 185, 84, 0.15) 0%, transparent 60%);
            pointer-events: none;
        }

        /* Bottom fade */
        .header::after {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(180deg, transparent 60%, rgba(0,0,0,0.25) 100%);
            pointer-events: none;
        }

        .header-brand {
            display: flex;
            align-items: center;
            gap: var(--sp-6);
            margin-bottom: var(--sp-8);
            position: relative;
            z-index: 2;
        }

        .header-logo {
            width: 72px;
            height: 72px;
            background: var(--spotify-green);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--spotify-black);
            font-size: 2em;
            font-weight: 800;
            box-shadow: var(--shadow-green), 0 0 50px rgba(29, 185, 84, 0.25);
            flex-shrink: 0;
        }

        .header-info {
            flex: 1;
        }

        .header-label {
            font-size: 0.72em;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.12em;
            font-weight: 700;
            margin-bottom: var(--sp-1);
        }

        .header-name {
            font-family: var(--font-display);
            font-size: 2em;
            font-weight: 900;
            color: var(--text-white);
            letter-spacing: -0.02em;
            line-height: 1.15;
        }

        .header-subtitle {
            font-size: 0.88em;
            color: var(--text-light);
            margin-top: var(--sp-2);
        }

        /* Player controls row */
        .header-controls {
            display: flex;
            align-items: center;
            gap: var(--sp-4);
            position: relative;
            z-index: 2;
            flex-wrap: wrap;
            margin-top: var(--sp-8);
        }

        .control-btn {
            background: var(--spotify-lighter);
            color: var(--text-light);
            border: 1px solid var(--spotify-border);
            border-radius: var(--radius-round);
            padding: var(--sp-2) var(--sp-6);
            font-size: 0.8em;
            font-weight: 600;
            transition: all 0.2s ease;
            letter-spacing: 0.02em;
        }

        .control-btn:hover {
            background: var(--spotify-hover);
            border-color: var(--text-dim);
            color: var(--text-white);
        }

        .control-btn.active {
            background: var(--spotify-green);
            color: var(--spotify-black);
            border-color: var(--spotify-green);
            font-weight: 700;
        }

        .control-btn.hot {
            background: var(--priority-must);
            color: var(--text-white);
            border-color: var(--priority-must);
        }

        /* Play button ‚Äî large green CTA */
        .play-btn {
            width: 52px;
            height: 52px;
            background: var(--spotify-green);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow-green), 0 0 30px rgba(29, 185, 84, 0.2);
            transition: all 0.2s ease;
            margin-left: auto;
        }

        .play-btn:hover {
            transform: scale(1.08);
            background: var(--spotify-green-lt);
        }

        .play-icon {
            width: 0;
            height: 0;
            border-left: 18px solid var(--spotify-black);
            border-top: 11px solid transparent;
            border-bottom: 11px solid transparent;
            margin-left: 4px;
        }

        /* --- Now Playing Bar (progress indicator) --- */
        .now-playing {
            background: var(--spotify-gray);
            border: 1px solid var(--spotify-border);
            border-radius: var(--radius-lg);
            padding: var(--sp-4) var(--sp-6);
            margin-bottom: var(--sp-10);
            display: flex;
            align-items: center;
            gap: var(--sp-4);
        }

        .now-playing-label {
            font-size: 0.72em;
            font-weight: 700;
            color: var(--spotify-green);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            white-space: nowrap;
        }

        .progress-bar {
            flex: 1;
            height: 4px;
            background: var(--spotify-border);
            border-radius: var(--radius-round);
            position: relative;
            overflow: hidden;
        }

        .progress-bar-fill {
            height: 100%;
            background: var(--spotify-green);
            border-radius: var(--radius-round);
            width: 100%;
        }

        .progress-bar-dot {
            position: absolute;
            top: -4px;
            right: -6px;
            width: 12px;
            height: 12px;
            background: var(--text-white);
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .now-playing-time {
            font-size: 0.72em;
            color: var(--text-dim);
            font-family: var(--font-mono);
            white-space: nowrap;
        }

        /* ============================================================
         * EXECUTIVE SUMMARY: Album cover card ‚Äî Spotify Wrapped feel
         * ============================================================ */
        .exec-summary {
            background: linear-gradient(135deg, var(--spotify-gray) 0%, var(--spotify-lighter) 100%);
            border-radius: var(--radius-xl);
            padding: var(--sp-10);
            margin-bottom: var(--sp-12);
            box-shadow: var(--shadow-elevated);
            border: 1px solid var(--spotify-border);
            page-break-inside: avoid;
            position: relative;
            overflow: hidden;
        }

        .exec-summary::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--spotify-green), var(--spotify-green-lt), var(--spotify-green));
        }

        .exec-header {
            display: flex;
            align-items: center;
            gap: var(--sp-5);
            margin-bottom: var(--sp-8);
        }

        .exec-icon {
            width: 48px;
            height: 48px;
            background: var(--spotify-green);
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--spotify-black);
            font-size: 1.4em;
            font-weight: 700;
            box-shadow: var(--shadow-green);
        }

        .exec-title {
            font-family: var(--font-display);
            font-size: 1.2em;
            font-weight: 800;
            color: var(--text-white);
            text-transform: uppercase;
            letter-spacing: 0.06em;
        }

        .exec-subtitle {
            font-size: 0.78em;
            color: var(--text-muted);
            margin-top: 2px;
        }

        .exec-summary p {
            color: var(--text-light);
            font-size: 0.95em;
            line-height: 1.8;
            margin-bottom: var(--sp-4);
        }

        .exec-summary p:last-of-type { margin-bottom: 0; }

        .exec-summary p strong {
            color: var(--text-white);
            font-weight: 700;
        }

        /* ============================================================
         * SECTION: Playlist category ‚Äî "‰∏∫‰Ω†Êé®Ëçê" horizontal headers
         * Each section has slightly different background gradients
         * ============================================================ */
        .section {
            margin-bottom: var(--sp-16);
            position: relative;
        }

        /* Section background gradient ‚Äî subtle, section-specific */
        .section-bg {
            position: absolute;
            top: -20px;
            left: -40px;
            right: -40px;
            bottom: -20px;
            border-radius: var(--radius-xl);
            opacity: 0.4;
            pointer-events: none;
            z-index: -1;
        }

        .section-header {
            display: flex;
            align-items: center;
            gap: var(--sp-5);
            padding: var(--sp-6) var(--sp-8);
            margin-bottom: var(--sp-6);
            background: var(--spotify-gray);
            border-radius: var(--radius-xl);
            border: 1px solid var(--spotify-border);
            position: relative;
            overflow: hidden;
        }

        /* Subtle section accent glow ‚Äî uses section color */
        .section-header::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(90deg, var(--section-glow, var(--spotify-green-glow)) 0%, transparent 50%);
            pointer-events: none;
        }

        /* Left color accent bar */
        .section-header::after {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            background: var(--section-color, var(--spotify-green));
            border-radius: var(--radius-xl) 0 0 var(--radius-xl);
        }

        .section-emoji {
            font-size: 1.5em;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
            position: relative;
            z-index: 1;
        }

        .section-title {
            font-family: var(--font-display);
            font-size: 1.35em;
            font-weight: 800;
            color: var(--text-white);
            letter-spacing: -0.01em;
            position: relative;
            z-index: 1;
        }

        .section-count {
            margin-left: auto;
            background: var(--spotify-green);
            color: var(--spotify-black);
            font-size: 0.72em;
            font-weight: 700;
            padding: var(--sp-2) var(--sp-5);
            border-radius: var(--radius-round);
            position: relative;
            z-index: 1;
            letter-spacing: 0.02em;
        }

        /* ============================================================
         * BRIEF CARDS: Track/song items ‚Äî bigger radius, wider spacing
         * ============================================================ */
        .brief {
            background: var(--spotify-gray);
            border: 1px solid var(--spotify-border);
            border-radius: var(--radius-xl);
            padding: var(--sp-6) var(--sp-8);
            margin-bottom: var(--sp-4);
            box-shadow: var(--shadow-subtle);
            transition: all 0.25s ease;
            page-break-inside: avoid;
            position: relative;
            overflow: hidden;
        }

        .brief:hover {
            background: var(--spotify-lighter);
            border-color: rgba(255,255,255,0.12);
            box-shadow: var(--shadow-card);
            transform: translateY(-1px);
        }

        /* Priority left accent bar with glow */
        .brief::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            border-radius: var(--radius-xl) 0 0 var(--radius-xl);
        }

        /* --- Must-read: üî¥ Ê≠£Âú®ÁÉ≠Êí≠ with pulse animation --- */
        .brief.must-read::before {
            background: var(--priority-must);
            box-shadow: 0 0 14px var(--priority-must-glow);
        }

        .brief.must-read {
            background: linear-gradient(90deg, var(--priority-must-bg) 0%, var(--spotify-gray) 18%);
        }

        @keyframes hot-pulse {
            0%, 100% { box-shadow: 0 0 0 0 rgba(255, 107, 107, 0.4); }
            50% { box-shadow: 0 0 0 6px rgba(255, 107, 107, 0); }
        }

        /* --- Recommended: üü° Êé®ËçêÊî∂Âê¨ --- */
        .brief.recommended::before {
            background: var(--priority-rec);
            box-shadow: 0 0 10px var(--priority-rec-glow);
        }

        .brief.recommended {
            background: linear-gradient(90deg, var(--priority-rec-bg) 0%, var(--spotify-gray) 15%);
        }

        /* --- FYI: üü¢ Èöè‰æøÂê¨Âê¨ --- */
        .brief.fyi::before {
            background: var(--priority-fyi);
            box-shadow: 0 0 8px var(--priority-fyi-glow);
        }

        .brief-header {
            display: flex;
            align-items: flex-start;
            gap: var(--sp-4);
            margin-bottom: var(--sp-3);
        }

        /* Play button indicator ‚Äî with pulse for must-read */
        .brief-play-btn {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            flex-shrink: 0;
            margin-top: 5px;
            transition: all 0.2s ease;
            cursor: pointer;
            position: relative;
        }

        .brief.must-read .brief-play-btn {
            background: var(--priority-must);
            box-shadow: 0 0 8px var(--priority-must-glow);
            animation: hot-pulse 2s ease-in-out infinite;
        }

        .brief.recommended .brief-play-btn {
            background: var(--priority-rec);
            box-shadow: 0 0 6px var(--priority-rec-glow);
        }

        .brief.fyi .brief-play-btn {
            background: var(--priority-fyi);
            box-shadow: 0 0 4px var(--priority-fyi-glow);
        }

        .brief:hover .brief-play-btn {
            background: var(--spotify-green) !important;
            box-shadow: 0 0 12px var(--spotify-green-glow) !important;
            transform: scale(1.2);
            animation: none !important;
        }

        /* Priority label next to the dot */
        .brief-priority-label {
            font-size: 0.65em;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            margin-top: 7px;
            white-space: nowrap;
        }

        .brief.must-read .brief-priority-label {
            color: var(--priority-must);
        }

        .brief.recommended .brief-priority-label {
            color: var(--priority-rec);
        }

        .brief.fyi .brief-priority-label {
            color: var(--priority-fyi);
            opacity: 0.7;
        }

        .brief-headline {
            flex: 1;
            font-size: 1.05em;
            font-weight: 600;
            line-height: 1.45;
        }

        .brief-headline a {
            color: var(--text-white);
            transition: color 0.2s ease;
        }

        .brief-headline a:hover {
            color: var(--spotify-green-lt);
        }

        .brief.must-read .brief-headline a {
            font-weight: 700;
        }

        /* Duration-style indicator */
        .brief-duration {
            font-size: 0.72em;
            color: var(--text-dim);
            font-family: var(--font-mono);
            white-space: nowrap;
            margin-top: 5px;
        }

        .brief-meta {
            display: flex;
            align-items: center;
            gap: var(--sp-3);
            margin-bottom: var(--sp-3);
            flex-wrap: wrap;
            padding-left: 36px;
        }

        .artist-tag {
            font-size: 0.78em;
            font-weight: 500;
            color: var(--text-muted);
            background: var(--spotify-lighter);
            border: 1px solid var(--spotify-border);
            padding: var(--sp-1) var(--sp-3);
            border-radius: var(--radius-sm);
            transition: all 0.2s ease;
        }

        .artist-tag:hover {
            color: var(--text-white);
            border-color: var(--text-dim);
        }

        .genre-tag {
            font-size: 0.72em;
            font-weight: 600;
            color: var(--spotify-green);
            background: var(--spotify-green-bg);
            border: 1px solid var(--border-accent);
            padding: var(--sp-1) var(--sp-3);
            border-radius: var(--radius-sm);
            transition: all 0.2s ease;
        }

        .genre-tag:hover {
            background: var(--spotify-green-dim);
        }

        .brief-detail {
            color: var(--text-light);
            font-size: 0.92em;
            line-height: 1.75;
            padding-left: 36px;
        }

        .brief-detail strong {
            color: var(--text-white);
            font-weight: 600;
        }

        .brief-detail code {
            font-family: var(--font-mono);
            font-size: 0.85em;
            background: var(--spotify-lighter);
            color: var(--spotify-green-lt);
            padding: 2px 6px;
            border-radius: var(--radius-sm);
            border: 1px solid var(--spotify-border);
        }

        /* ============================================================
         * EQUALIZER ANIMATION ‚Äî Decorative section divider
         * ============================================================ */
        .eq-divider {
            display: flex;
            align-items: flex-end;
            justify-content: center;
            gap: 3px;
            height: 24px;
            margin: var(--sp-8) 0;
        }

        .eq-bar {
            width: 3px;
            background: var(--spotify-green);
            border-radius: 2px;
            animation: eq-bounce 1.2s ease-in-out infinite;
        }

        .eq-bar:nth-child(1) { height: 8px; animation-delay: 0s; }
        .eq-bar:nth-child(2) { height: 16px; animation-delay: 0.2s; }
        .eq-bar:nth-child(3) { height: 6px; animation-delay: 0.4s; }
        .eq-bar:nth-child(4) { height: 20px; animation-delay: 0.1s; }
        .eq-bar:nth-child(5) { height: 10px; animation-delay: 0.3s; }
        .eq-bar:nth-child(6) { height: 14px; animation-delay: 0.15s; }
        .eq-bar:nth-child(7) { height: 8px; animation-delay: 0.35s; }

        @keyframes eq-bounce {
            0%, 100% { transform: scaleY(1); }
            50% { transform: scaleY(0.3); }
        }

        /* ============================================================
         * FOOTER: Spotify-style player bar at the bottom
         * ============================================================ */
        .footer {
            margin-top: var(--sp-20);
            position: relative;
        }

        /* Player bar ‚Äî fixed-style at bottom of content */
        .footer-player-bar {
            background: var(--spotify-gray);
            border: 1px solid var(--spotify-border);
            border-radius: var(--radius-xl);
            padding: var(--sp-5) var(--sp-8);
            box-shadow: var(--shadow-elevated);
        }

        .footer-progress {
            display: flex;
            align-items: center;
            gap: var(--sp-3);
            margin-bottom: var(--sp-4);
        }

        .footer-progress-time {
            font-size: 0.68em;
            color: var(--text-dim);
            font-family: var(--font-mono);
            min-width: 36px;
        }

        .footer-progress-bar {
            flex: 1;
            height: 4px;
            background: var(--spotify-border);
            border-radius: var(--radius-round);
            position: relative;
            overflow: hidden;
        }

        .footer-progress-fill {
            height: 100%;
            width: 100%;
            background: var(--spotify-green);
            border-radius: var(--radius-round);
        }

        .footer-info-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: var(--sp-3);
        }

        .footer-now-playing {
            display: flex;
            align-items: center;
            gap: var(--sp-3);
        }

        .footer-album-art {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--spotify-green), var(--spotify-green-dk));
            border-radius: var(--radius);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1em;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }

        .footer-track-info {
            display: flex;
            flex-direction: column;
        }

        .footer-track-name {
            font-size: 0.85em;
            font-weight: 700;
            color: var(--text-white);
        }

        .footer-track-artist {
            font-size: 0.72em;
            color: var(--text-muted);
        }

        .footer-controls {
            display: flex;
            align-items: center;
            gap: var(--sp-4);
        }

        .footer-control-btn {
            font-size: 0.75em;
            color: var(--text-muted);
            transition: color 0.2s;
        }

        .footer-control-btn:hover {
            color: var(--text-white);
        }

        .footer-play-mini {
            width: 32px;
            height: 32px;
            background: var(--text-white);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .footer-play-mini-icon {
            width: 0;
            height: 0;
            border-left: 10px solid var(--spotify-black);
            border-top: 6px solid transparent;
            border-bottom: 6px solid transparent;
            margin-left: 2px;
        }

        .footer-tagline {
            margin-top: var(--sp-6);
            text-align: center;
            font-size: 0.72em;
            color: var(--text-dim);
            font-style: italic;
        }

        /* ============================================================
         * Print & PDF Adjustments
         * ============================================================ */
        @media print {
            body {
                background: var(--spotify-dark) !important;
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
            }

            body::before { display: none; }

            .container { max-width: 100%; padding: 0; }

            .header {
                margin-bottom: var(--sp-6);
                padding: var(--sp-6);
                box-shadow: none;
            }

            .header::before,
            .header::after { display: none; }

            .now-playing { display: none; }
            .eq-divider { display: none; }

            .exec-summary {
                margin-bottom: var(--sp-6);
                padding: var(--sp-5) var(--sp-6);
                box-shadow: none;
            }

            .brief {
                margin-bottom: var(--sp-3);
                padding: var(--sp-4) var(--sp-5);
                box-shadow: none;
                transform: none !important;
            }

            .brief:hover { transform: none; background: var(--spotify-gray); }

            .brief.must-read .brief-play-btn { animation: none; }

            .section { margin-bottom: var(--sp-8); }
            .section-bg { display: none; }

            .footer-player-bar { box-shadow: none; }

            a { color: var(--text-white) !important; }
        }

        /* ============================================================
         * Mobile Responsive
         * ============================================================ */
        @media (max-width: 768px) {
            body::before {
                background:
                    radial-gradient(ellipse 300px 300px at 15% 10%, var(--orb-green) 0%, transparent 70%),
                    radial-gradient(ellipse 250px 250px at 85% 5%, var(--orb-pink) 0%, transparent 70%);
            }
            .container { padding: var(--sp-6) var(--sp-4); }
            .header { padding: var(--sp-8) var(--sp-6); border-radius: var(--radius-lg); }
            .header-name { font-size: 1.5em; }
            .header-logo { width: 56px; height: 56px; font-size: 1.5em; }
            .exec-summary { padding: var(--sp-6) var(--sp-6); border-radius: var(--radius-lg); }
            .brief { padding: var(--sp-5) var(--sp-6); border-radius: var(--radius-lg); }
            .brief-meta { padding-left: 0; }
            .brief-detail { padding-left: 0; }
            .section-header { padding: var(--sp-4) var(--sp-6); border-radius: var(--radius-lg); }
            .play-btn { width: 44px; height: 44px; }
            .footer-player-bar { padding: var(--sp-4) var(--sp-5); border-radius: var(--radius-lg); }
        }

        @media (max-width: 480px) {
            .header-brand { flex-direction: column; text-align: center; }
            .header-controls { justify-content: center; }
            .brief-meta { flex-direction: column; align-items: flex-start; gap: var(--sp-2); }
            .footer-info-row { flex-direction: column; align-items: center; gap: var(--sp-4); }
            .now-playing { flex-wrap: wrap; }
        }
    </style>
</head>
<body>
    <div class="container">

        <!-- ====== HEADER: Spotify Player Hero ====== -->
        <header class="header">
            <div class="header-brand">
                <div class="header-logo">üéµ</div>
                <div class="header-info">
                    <div class="header-label">Intelligence Playlist</div>
                    <h1 class="header-name">Daily Brief</h1>
                    <div class="header-subtitle">Curated by Newsloom AI ¬∑ {{ date_str }}</div>
                </div>
            </div>
            <div class="header-controls">
                <span class="control-btn">{{ date_str }}</span>
                <span class="control-btn">{{ generated_time }}</span>
                <span class="control-btn active">{{ total_items }} tracks</span>
                {% set must_read_total = [] %}
                {% for section_key, items in briefs.items() %}
                {% if items is iterable and items is not string %}
                {% for item in items %}
                {% if item.priority == 'üî¥' %}
                {% if must_read_total.append(1) %}{% endif %}
                {% endif %}
                {% endfor %}
                {% endif %}
                {% endfor %}
                {% if must_read_total|length > 0 %}
                <span class="control-btn hot">üî• {{ must_read_total|length }} Hot</span>
                {% endif %}
                <div class="play-btn">
                    <div class="play-icon"></div>
                </div>
            </div>
        </header>

        <!-- ====== NOW PLAYING BAR ====== -->
        <div class="now-playing">
            <span class="now-playing-label">‚ñ∂ Now Playing</span>
            <div class="progress-bar">
                <div class="progress-bar-fill"></div>
                <div class="progress-bar-dot"></div>
            </div>
            <span class="now-playing-time">{{ total_items }} / {{ total_items }}</span>
        </div>

        <!-- ====== EXECUTIVE SUMMARY: Album Card ====== -->
        {% if executive_summary %}
        <div class="exec-summary">
            <div class="exec-header">
                <div class="exec-icon">üéØ</div>
                <div>
                    <div class="exec-title">Today's Top Hits</div>
                    <div class="exec-subtitle">{{ total_items }} tracks ¬∑ AI-curated</div>
                </div>
            </div>
            {% for line in executive_summary.strip().split('\n') %}
            {% if line.strip() %}
            <p>{{ line.strip() | md_inline }}</p>
            {% endif %}
            {% endfor %}
        </div>
        {% endif %}

        <!-- ====== SECTIONS: Playlist Style with section-specific gradients ====== -->
        {% for section_key in section_order %}
        {% if section_key in briefs and briefs[section_key] is iterable and briefs[section_key] is not string and briefs[section_key]|length > 0 %}
        {% set meta = section_configs.get(section_key, {}) %}
        {% set items = briefs[section_key] %}
        {% set sec_color = meta.color|default('#1DB954') %}

        {% if not loop.first %}
        <div class="eq-divider">
            <div class="eq-bar" style="background: {{ sec_color }};"></div>
            <div class="eq-bar" style="background: {{ sec_color }};"></div>
            <div class="eq-bar" style="background: {{ sec_color }};"></div>
            <div class="eq-bar" style="background: {{ sec_color }};"></div>
            <div class="eq-bar" style="background: {{ sec_color }};"></div>
            <div class="eq-bar" style="background: {{ sec_color }};"></div>
            <div class="eq-bar" style="background: {{ sec_color }};"></div>
        </div>
        {% endif %}

        <section class="section" style="--section-color: {{ sec_color }}; --section-glow: {{ sec_color }}12;">
            <!-- Subtle section-specific background gradient -->
            <div class="section-bg" style="background: radial-gradient(ellipse at 20% 50%, {{ sec_color }}08 0%, transparent 70%);"></div>

            <div class="section-header" style="--section-color: {{ sec_color }}; --section-glow: {{ sec_color }}18;">
                <span class="section-emoji">{{ meta.emoji|default('üéµ') }}</span>
                <h2 class="section-title">{{ meta.title|default(section_key) }}</h2>
                <span class="section-count" style="background: {{ sec_color }};">{{ items|length }} tracks</span>
            </div>

            {% for item in items %}
            {% set priority = item.priority|default('üü¢') %}
            {% set p_class = 'must-read' if priority == 'üî¥' else ('recommended' if priority == 'üü°' else 'fyi') %}
            <div class="brief {{ p_class }}">
                <div class="brief-header">
                    <div class="brief-play-btn"></div>
                    <div class="brief-headline">
                        <a href="{{ item.url|default('#') }}" target="_blank">{{ item.headline|default(item.title|default('Untitled')) }}</a>
                    </div>
                    <span class="brief-priority-label">
                        {% if priority == 'üî¥' %}üî¥ Ê≠£Âú®ÁÉ≠Êí≠
                        {% elif priority == 'üü°' %}üü° Êé®ËçêÊî∂Âê¨
                        {% else %}üü¢ Èöè‰æøÂê¨Âê¨{% endif %}
                    </span>
                    <div class="brief-duration">{{ loop.index }}:{{ '%02d' % (loop.index * 7 % 60) }}</div>
                </div>
                <div class="brief-meta">
                    {% if item.source %}
                    <span class="artist-tag">{{ item.source }}</span>
                    {% endif %}
                    {% if item.tags %}
                    {% for tag in item.tags %}
                    <span class="genre-tag">{{ tag }}</span>
                    {% endfor %}
                    {% endif %}
                </div>
                {% if item.detail %}
                <div class="brief-detail">{{ item.detail|default('') | md_inline }}</div>
                {% endif %}
            </div>
            {% endfor %}
        </section>
        {% endif %}
        {% endfor %}

        <!-- ====== FOOTER: Spotify Player Bar ====== -->
        <footer class="footer">
            <div class="footer-player-bar">
                <!-- Progress bar -->
                <div class="footer-progress">
                    <span class="footer-progress-time">0:00</span>
                    <div class="footer-progress-bar">
                        <div class="footer-progress-fill"></div>
                    </div>
                    <span class="footer-progress-time">{{ total_items }}:00</span>
                </div>
                <!-- Info + Controls -->
                <div class="footer-info-row">
                    <div class="footer-now-playing">
                        <div class="footer-album-art">üì∞</div>
                        <div class="footer-track-info">
                            <span class="footer-track-name">Daily Brief ¬∑ {{ date_str }}</span>
                            <span class="footer-track-artist">Newsloom AI ¬∑ {{ total_items }} tracks analyzed</span>
                        </div>
                    </div>
                    <div class="footer-controls">
                        <span class="footer-control-btn">‚èÆ</span>
                        <div class="footer-play-mini">
                            <div class="footer-play-mini-icon"></div>
                        </div>
                        <span class="footer-control-btn">‚è≠</span>
                    </div>
                </div>
            </div>
            <div class="footer-tagline">Made with üéµ by AI ¬∑ Your daily intelligence, remixed</div>
        </footer>

    </div>
</body>
</html>
